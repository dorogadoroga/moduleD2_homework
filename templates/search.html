{% extends 'default.html' %}
{% load custom_filters %}

{% block title %}
News
{% endblock title %}

{% block content %}
<h1>Все новости</h1>
<form method="GET">
    {{ filter.form }}
    <button class="btn btn-outline-dark mt-auto">Поиск</button>
</form>
{% for post in filter.qs %}
<p>{{ post.date | date:'d M Y' }}</p>
<h3>{{ post.title | censure:'***' }}</h3>
<p>{{ post.text | truncatewords:20 | censure:'***' }}</p>
{% endfor %}
{% endblock content %}